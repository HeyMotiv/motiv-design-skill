<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=780, initial-scale=1.0">
    <title>State Identification Questions — Motiv (AI-Generated Example)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;600;700&family=Roboto:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-brand-primary: #1A1A1A;
            --color-brand-secondary: #C97A6A;
            --color-text-primary: #1A1A1A;
            --color-text-secondary: #6B7280;
            --color-text-tertiary: #9CA3AF;
            --color-text-inverse: #FFFFFF;
            --color-bg-primary: #FFFFFF;
            --color-bg-secondary: #F9FAFB;
            --color-bg-tertiary: #F3F4F6;
            --color-border-default: #E5E7EB;
            --color-interaction-selected: #F5F3FF;
            --font-display: 'Source Serif 4', Georgia, serif;
            --font-body: 'Roboto', system-ui, sans-serif;
            --space-xs: 8px;
            --space-sm: 12px;
            --space-md: 16px;
            --space-lg: 20px;
            --space-xl: 24px;
            --space-2xl: 32px;
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-full: 9999px;

            /* Archetype gradient (default: companion/pink) */
            --grad-1: #FBCFE8;
            --grad-2: #F9A8D4;
            --grad-3: #F472B6;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-body);
            background: #0a0a0f;
            color: var(--color-text-primary);
            line-height: 1.5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 32px 24px;
        }

        /* Review controls */
        .review-header {
            text-align: center;
            margin-bottom: 24px;
            max-width: 720px;
        }
        .review-title {
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 700;
            color: #e8e8f0;
            margin-bottom: 4px;
        }
        .review-subtitle {
            font-size: 13px;
            color: #8888a0;
            margin-bottom: 20px;
        }
        .archetype-selector {
            display: flex;
            gap: 6px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .archetype-tab {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border: 1.5px solid #2a2a3a;
            border-radius: var(--radius-full);
            background: #12121a;
            color: #8888a0;
            font-family: var(--font-body);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.25s ease;
        }
        .archetype-tab:hover { border-color: #4a4a5a; color: #c0c0d0; }
        .archetype-tab.active {
            border-color: var(--color-brand-secondary);
            background: rgba(255,255,255,0.05);
            color: #e8e8f0;
        }
        .tab-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        /* Phone frame */
        .phone-frame {
            width: 390px;
            height: 844px;
            border-radius: 40px;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0,0,0,0.5);
            position: relative;
            display: flex;
            flex-direction: column;
            margin-top: 20px;
            background: var(--color-bg-primary);
        }

        /* Lava blob background */
        .lava {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }
        .lava::before, .lava::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.18;
            animation: blobDrift 20s ease-in-out infinite;
        }
        .lava::before {
            width: 300px;
            height: 300px;
            background: var(--grad-1);
            top: -60px;
            right: -80px;
            animation-delay: -7s;
        }
        .lava::after {
            width: 250px;
            height: 250px;
            background: var(--grad-2);
            bottom: 60px;
            left: -60px;
            animation-delay: -14s;
        }
        @keyframes blobDrift {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(5%, -5%) scale(1.1); }
            50% { transform: translate(-5%, 5%) scale(0.9); }
            75% { transform: translate(5%, 5%) scale(1.05); }
        }

        /* Content */
        .content {
            position: relative;
            z-index: 1;
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: var(--space-xl);
            padding-top: 20px;
        }

        /* Back button */
        .back-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 1.5px solid var(--color-border-default);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.15s ease;
            margin-bottom: var(--space-lg);
        }
        .back-btn:hover { border-color: #D1D5DB; background: var(--color-bg-secondary); }
        .back-btn svg {
            width: 18px;
            height: 18px;
            stroke: var(--color-text-primary);
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Headline */
        .headline {
            font-family: var(--font-display);
            font-size: 26px;
            font-weight: 700;
            color: var(--color-text-primary);
            line-height: 1.25;
            margin-bottom: var(--space-xs);
        }
        .headline em {
            font-style: normal;
            color: var(--color-brand-secondary);
        }
        .subtext {
            font-size: 15px;
            color: var(--color-text-secondary);
            line-height: 1.5;
            margin-bottom: var(--space-xl);
        }

        /* Accordion */
        .accordion {
            display: flex;
            flex-direction: column;
            flex: 1;
        }

        .acc-item {
            border-bottom: 1px solid var(--color-bg-tertiary);
        }
        .acc-item:last-child { border-bottom: none; }

        /* Accordion header (always visible) */
        .acc-header {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: 14px 0;
            cursor: pointer;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .acc-num {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 1.5px solid var(--color-border-default);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-display);
            font-size: 13px;
            font-weight: 700;
            color: var(--color-text-tertiary);
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .acc-item.answered .acc-num {
            border-color: var(--color-brand-secondary);
            background: var(--color-brand-secondary);
            color: white;
        }

        .acc-item.open .acc-num {
            border-color: var(--color-brand-secondary);
            color: var(--color-brand-secondary);
        }

        .acc-title {
            flex: 1;
            font-family: var(--font-display);
            font-size: 15px;
            font-weight: 600;
            color: var(--color-text-primary);
            transition: color 0.2s ease;
        }
        .acc-item.waiting .acc-title { color: var(--color-text-tertiary); }

        .acc-answer {
            font-size: 13px;
            font-weight: 500;
            color: var(--color-brand-secondary);
            display: none;
            flex-shrink: 0;
        }
        .acc-item.answered .acc-answer { display: block; }

        .acc-chevron {
            width: 18px;
            height: 18px;
            stroke: var(--color-text-tertiary);
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }
        .acc-item.open .acc-chevron { transform: rotate(180deg); stroke: var(--color-brand-secondary); }

        /* Accordion body */
        .acc-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.35s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        .acc-item.open .acc-body {
            max-height: 300px;
        }

        .acc-options {
            display: flex;
            flex-direction: column;
            gap: 2px;
            padding-bottom: 14px;
            padding-left: 40px;
        }

        .acc-opt {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: 11px 14px;
            border-radius: var(--radius-sm);
            border: none;
            background: transparent;
            cursor: pointer;
            transition: all 0.15s ease;
            font-family: var(--font-body);
            text-align: left;
            -webkit-tap-highlight-color: transparent;
        }
        .acc-opt:hover { background: var(--color-bg-secondary); }
        .acc-opt:active { transform: scale(0.98); }

        .opt-dot {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid var(--color-border-default);
            flex-shrink: 0;
            transition: all 0.15s ease;
            position: relative;
        }
        .opt-dot::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: var(--color-brand-secondary);
            transform: scale(0);
            transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .acc-opt.selected .opt-dot {
            border-color: var(--color-brand-secondary);
        }
        .acc-opt.selected .opt-dot::after {
            transform: scale(1);
        }

        .opt-text {
            font-size: 15px;
            color: var(--color-text-primary);
            line-height: 1.4;
        }
        .acc-opt.selected .opt-text {
            color: var(--color-brand-secondary);
            font-weight: 500;
        }

        /* CTA */
        .cta-section {
            margin-top: auto;
            padding-top: var(--space-lg);
        }
        .btn-primary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            width: 100%;
            background: var(--color-brand-secondary);
            color: white;
            font-family: var(--font-body);
            font-size: 17px;
            font-weight: 600;
            padding: 16px 32px;
            border: none;
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all 0.15s ease;
        }
        .btn-primary:hover:not(:disabled) { transform: scale(1.02); opacity: 0.95; }
        .btn-primary:active:not(:disabled) { transform: scale(0.97); }
        .btn-primary:disabled {
            background: var(--color-bg-tertiary);
            color: var(--color-text-tertiary);
            cursor: not-allowed;
        }
        .btn-primary svg {
            width: 18px;
            height: 18px;
            stroke: currentColor;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            fill: none;
        }

        .btn-reset {
            display: block;
            width: 100%;
            text-align: center;
            background: none;
            border: none;
            font-family: var(--font-body);
            font-size: 14px;
            color: var(--color-text-tertiary);
            padding: var(--space-sm);
            cursor: pointer;
        }
        .btn-reset:hover { color: var(--color-text-secondary); }

        /* Result card (inline, replaces CTA) */
        .result-card {
            background: var(--color-interaction-selected);
            border: 1.5px solid rgba(124, 58, 237, 0.2);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            margin-bottom: var(--space-md);
            animation: resultIn 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        @keyframes resultIn {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .result-eyebrow {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            color: var(--color-brand-secondary);
            margin-bottom: 4px;
        }
        .result-title {
            font-family: var(--font-display);
            font-size: 20px;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 6px;
        }
        .result-desc {
            font-size: 14px;
            color: var(--color-text-secondary);
            line-height: 1.55;
        }

        /* Skipped items collapse fully */
        .acc-item.skipped { display: none; }

        @media (prefers-reduced-motion: reduce) {
            .lava::before, .lava::after { animation: none !important; }
            .acc-body { transition: none !important; }
            .result-card { animation: none !important; }
        }
    </style>
</head>
<body>

    <!-- Review controls -->
    <div class="review-header">
        <h1 class="review-title">State Identification Questions</h1>
        <p class="review-subtitle">Accordion flow — tap an answer, next opens. Branching → State 1, 2, or 3.</p>
        <div class="archetype-selector" id="archetypeSelector">
            <button class="archetype-tab active" data-archetype="companion">
                <span class="tab-dot" style="background: linear-gradient(135deg, #FBCFE8, #F9A8D4)"></span>
                Companion
            </button>
            <button class="archetype-tab" data-archetype="guide">
                <span class="tab-dot" style="background: linear-gradient(135deg, #BAE6FD, #7DD3FC)"></span>
                Guide
            </button>
            <button class="archetype-tab" data-archetype="coach">
                <span class="tab-dot" style="background: linear-gradient(135deg, #A7F3D0, #6EE7B7)"></span>
                Coach
            </button>
            <button class="archetype-tab" data-archetype="challenger">
                <span class="tab-dot" style="background: linear-gradient(135deg, #FDE047, #FACC15)"></span>
                Challenger
            </button>
            <button class="archetype-tab" data-archetype="performer">
                <span class="tab-dot" style="background: linear-gradient(135deg, #FED7AA, #FDBA74)"></span>
                Performer
            </button>
            <button class="archetype-tab" data-archetype="connector">
                <span class="tab-dot" style="background: linear-gradient(135deg, #DDD6FE, #C4B5FD)"></span>
                Connector
            </button>
        </div>
    </div>

    <!-- Phone mockup -->
    <div class="phone-frame">
        <div class="lava"></div>
        <div class="content">

            <button class="back-btn" onclick="alert('← Back to narrative screen')">
                <svg viewBox="0 0 24 24" fill="none"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg>
            </button>

            <h1 class="headline">A few quick <em>questions</em></h1>
            <p class="subtext" id="framingText">Help us understand how your community shows up.</p>

            <!-- Accordion -->
            <div class="accordion">

                <!-- Q1 -->
                <div class="acc-item open" id="q1">
                    <div class="acc-header" onclick="toggleQ(1)">
                        <div class="acc-num" id="q1n">1</div>
                        <div class="acc-title">Do they take that first step?</div>
                        <div class="acc-answer" id="q1a"></div>
                        <svg class="acc-chevron" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6"></path></svg>
                    </div>
                    <div class="acc-body">
                        <div class="acc-options">
                            <button class="acc-opt" onclick="pick(1, 'yes', 'Yes, they do')">
                                <div class="opt-dot"></div>
                                <span class="opt-text">Yes — they try things out</span>
                            </button>
                            <button class="acc-opt" onclick="pick(1, 'no', 'Not usually')">
                                <div class="opt-dot"></div>
                                <span class="opt-text">Not usually — they stay inspired but don't start</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Q2 -->
                <div class="acc-item waiting" id="q2">
                    <div class="acc-header" onclick="toggleQ(2)">
                        <div class="acc-num" id="q2n">2</div>
                        <div class="acc-title">Do they stay consistent?</div>
                        <div class="acc-answer" id="q2a"></div>
                        <svg class="acc-chevron" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6"></path></svg>
                    </div>
                    <div class="acc-body">
                        <div class="acc-options">
                            <button class="acc-opt" onclick="pick(2, 'yes', 'Yes, they do')">
                                <div class="opt-dot"></div>
                                <span class="opt-text">Yes — they keep showing up</span>
                            </button>
                            <button class="acc-opt" onclick="pick(2, 'no', 'Not usually')">
                                <div class="opt-dot"></div>
                                <span class="opt-text">Not usually — momentum fades after a few weeks</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Q3 -->
                <div class="acc-item waiting" id="q3">
                    <div class="acc-header" onclick="toggleQ(3)">
                        <div class="acc-num" id="q3n">3</div>
                        <div class="acc-title">Do they go deeper?</div>
                        <div class="acc-answer" id="q3a"></div>
                        <svg class="acc-chevron" viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6"></path></svg>
                    </div>
                    <div class="acc-body">
                        <div class="acc-options">
                            <button class="acc-opt" onclick="pick(3, 'yes', 'Yes')">
                                <div class="opt-dot"></div>
                                <span class="opt-text">Yes — they seek coaching, products, or community</span>
                            </button>
                            <button class="acc-opt" onclick="pick(3, 'no', 'Not yet')">
                                <div class="opt-dot"></div>
                                <span class="opt-text">Not yet — they engage but don't go further</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA area (result + button) -->
            <div class="cta-section" id="ctaSection">
                <div id="resultSlot"></div>
                <button class="btn-primary" id="continueBtn" disabled onclick="alert('→ Next: State Resolution screen')">
                    Continue
                    <svg viewBox="0 0 24 24" fill="none"><path d="M5 12h14M12 5l7 7-7 7"></path></svg>
                </button>
                <button class="btn-reset" id="resetBtn" style="display:none" onclick="resetFlow()">Change answers</button>
            </div>

        </div>
    </div>

    <script>
        // =============================================
        // DATA
        // =============================================

        const archetypeData = {
            companion: {
                framing: 'Help us understand how your community shows up.',
                grads: ['#FBCFE8', '#F9A8D4', '#F472B6']
            },
            guide: {
                framing: 'Help us understand how your audience learns.',
                grads: ['#BAE6FD', '#7DD3FC', '#38BDF8']
            },
            coach: {
                framing: 'Help us understand how your clients take action.',
                grads: ['#A7F3D0', '#6EE7B7', '#34D399']
            },
            challenger: {
                framing: 'Help us understand how your audience pushes forward.',
                grads: ['#FDE047', '#FACC15', '#EAB308']
            },
            performer: {
                framing: 'Help us understand how your fans engage.',
                grads: ['#FED7AA', '#FDBA74', '#FB923C']
            },
            connector: {
                framing: 'Help us understand how your community bonds.',
                grads: ['#DDD6FE', '#C4B5FD', '#A78BFA']
            }
        };

        const stateResults = {
            state1: {
                title: 'The Inspiration\u2013Action Gap',
                desc: 'Your audience gets inspired but struggles to take that first step. A collab creates a shared moment to move from wanting to acting.'
            },
            state2: {
                title: 'The Consistency Gap',
                desc: 'Your audience starts strong but momentum fades. A collab creates structured accountability that turns action into habit.'
            },
            state3: {
                title: 'The Depth Gap',
                desc: 'Your audience is engaged and ready for more. A collab creates the container for deeper commitment and growth.'
            }
        };

        // =============================================
        // STATE
        // =============================================

        let currentArchetype = 'companion';
        let answers = {};
        let resolvedState = null;
        const DELAY = 350;

        // =============================================
        // ACCORDION LOGIC
        // =============================================

        function pick(q, value, label) {
            answers[q] = value;

            // Visual: mark selected
            const qEl = document.getElementById('q' + q);
            qEl.querySelectorAll('.acc-opt').forEach(o => o.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            // Set answer label
            document.getElementById('q' + q + 'a').textContent = label;

            setTimeout(() => {
                // Collapse this question
                qEl.classList.remove('open');
                qEl.classList.add('answered');

                // Always advance to next question; resolve after Q3
                if (q < 3) {
                    openQ(q + 1);
                } else {
                    // All 3 answered — determine state from branching logic
                    let state;
                    if (answers[1] === 'no' || answers[2] === 'no') {
                        state = 'state1';
                    } else if (answers[3] === 'no') {
                        state = 'state2';
                    } else {
                        state = 'state3';
                    }
                    resolve(state);
                }
            }, DELAY);
        }

        function openQ(q) {
            const el = document.getElementById('q' + q);
            el.classList.remove('waiting', 'answered', 'skipped');
            el.classList.add('open');
            el.querySelectorAll('.acc-opt').forEach(o => o.classList.remove('selected'));
        }

        function toggleQ(q) {
            const el = document.getElementById('q' + q);
            // Only allow re-opening answered questions (resets from that point)
            if (el.classList.contains('answered')) {
                reopenFrom(q);
            }
        }

        function reopenFrom(q) {
            resolvedState = null;
            document.getElementById('resultSlot').innerHTML = '';
            document.getElementById('continueBtn').disabled = true;
            document.getElementById('resetBtn').style.display = 'none';

            for (let i = q; i <= 3; i++) {
                delete answers[i];
                const el = document.getElementById('q' + i);
                el.classList.remove('answered', 'open', 'waiting', 'skipped');
                el.querySelectorAll('.acc-opt').forEach(o => o.classList.remove('selected'));
                if (i === q) el.classList.add('open');
                else el.classList.add('waiting');
            }
        }

        function resolve(stateKey) {
            resolvedState = stateKey;
            const state = stateResults[stateKey];

            document.getElementById('resultSlot').innerHTML = `
                <div class="result-card">
                    <div class="result-eyebrow">What we see</div>
                    <div class="result-title">${state.title}</div>
                    <div class="result-desc">${state.desc}</div>
                </div>
            `;
            document.getElementById('continueBtn').disabled = false;
            document.getElementById('resetBtn').style.display = 'block';
        }

        function resetFlow() {
            answers = {};
            resolvedState = null;
            document.getElementById('resultSlot').innerHTML = '';
            document.getElementById('continueBtn').disabled = true;
            document.getElementById('resetBtn').style.display = 'none';

            for (let i = 1; i <= 3; i++) {
                const el = document.getElementById('q' + i);
                el.classList.remove('answered', 'open', 'waiting', 'skipped');
                el.querySelectorAll('.acc-opt').forEach(o => o.classList.remove('selected'));
                if (i === 1) el.classList.add('open');
                else el.classList.add('waiting');
            }
        }

        // =============================================
        // ARCHETYPE SWITCHING
        // =============================================

        function setArchetype(name) {
            currentArchetype = name;
            const data = archetypeData[name];

            document.getElementById('framingText').textContent = data.framing;

            // Update lava gradients
            document.documentElement.style.setProperty('--grad-1', data.grads[0]);
            document.documentElement.style.setProperty('--grad-2', data.grads[1]);
            document.documentElement.style.setProperty('--grad-3', data.grads[2]);

            // Update tabs
            document.querySelectorAll('.archetype-tab').forEach(t => {
                t.classList.toggle('active', t.dataset.archetype === name);
            });

            resetFlow();
        }

        document.querySelectorAll('.archetype-tab').forEach(t => {
            t.addEventListener('click', () => setArchetype(t.dataset.archetype));
        });

        setArchetype('companion');
    </script>
</body>
</html>
